\chapter{Analiza sentymentu wypowiedzi}

\qquad Zagadnieniem dobrze ilustrującym postęp technologiczny jest prędkość rozprzestrzeniania się informacji. W starożytności informacja była przekazywana zazwyczaj przez posłańców, od których losów zależało czy i kiedy zostanie ona dostarczona do nadawcy. Tak było w przypadku posłańca Filippidesa, który według legendy podążał po wygranej bitwie pod Maratonem do Aten, aby uprzedzić Greków przed zbliżającym się atakiem Persów [8]. W dzisiejszych czasach coraz częściej informacja jest dostępna na ekranach urządzeń mobilnych takich jak telefon komórkowy w czasie rzeczywistym zaraz po wystąpieniu jakiegoś zdarzenia. Dlatego bardzo ważne stało się monitorowanie opinii i nastojów społecznych. Dostępne obecnie narzędzia pozwalają klasyfikować wydźwięk tekstu jako pozytywny, negatywny albo neutralny.

Podstawową operacją języka naturalnego jest ustalanie znaczenia zdania zwane także semantyką. Ustalenie znaczenia wyrażenia w języku naturalnym polega na wyznaczeniu występujących w nim obiektów oraz zachodzących między nimi relacji [9]. Do analizy pełnego znaczenia wymagana jest szeroka wiedza o świecie odnosząca się do konretnego kontekstu. Na tym etapie przetwarzania tekstu pomocne są informacje o powiązaniach między słowami. W zależności od zastosowania przydatna może być na przykład wiedza o tym, że kot jest ssakiem, a rafineria rodzajem przedsiębiorstwa. 

Do reprezentacji semantyki języka naturalnego można wykorzystać mechanizmy formalne, które odpowiadają praktycznym potrzebom dokonania interpretacji. Jendym z przykładów takich mechanizmów jest \textit{rachunek predykatów I rzędu}, który pozwala zapisać czy fakt jest prawdziwy lub fałszywy, umożliwia zapisywanie pytań za pomocą użycia zmiennych, a także posiada opracowane metody wnioskowania. Inną metodą reprezentowania znaczenia zdania jest \textit{Teoria Reprezentacji Dyskursu} - \textit{DRT} (ang. \textit{Discourse Representation Theory}), która polega na przekształcaniu drzewa rozbioru znaczenia zdania na strukturę zwaną \textit{DRS} (ang. \textit{Discourse Representation Structure}). Niestety żaden ze znanych mechanizmów nie jest w stanie odzwierciedlić całej złożoności procesów powiązanych z rozumieniem języka naturalnego. Przyjmując jedną z istniejących metod lub tworząc nową musimy zmierzyć się z wybraniem mechanizmu, który wobec postawionych wymagań najlepiej poradzi sobie z rozległością skali znaczeń jakie chcemy reprezentować, stopniem skomplikowania semantyki oraz kosztem jej uzyskania. Dlatego większość systemów informatycznych nie korzysta z wyrafinowanych reprezentacji znaczenia, ale ogranicza ją do najprostszych scenariuszy.

Analiza tekstu jest złożonym zadaniem. Wymaga zrozumienia zależności pomiędzy występującymi faktami oraz do jego pełnego zrozumienia potrzebna jest wiedza, którą dysponuje człowiek. Dlatego analiza tekstu jest uznawana za problem \textit{AI-zupełny} (ang. \textit{AI - Artifical Intelligence} lub po polsku \textit{SI - Sztuczna Inteligencja}). Zrozumienie kolejnej części tekstu wymaga umiejętnego wyciągania wniosków z poprzedniej części tekstu i powiązania ich z wiedzą nabytą z innych źródeł. 

Opis dłuższego tekstu wymaga odtworzenia powiązań pomiędzy kolejnymi zdaniami, ale z powodu ilości możliwych kombinacji sekwencji zdań można opisać tylko wybrane zjawiska oraz wykluczyć niektóre typy powiązań. Kolejną trudnością jest rozstrzyganie do jakich obiektów odnoszą się wyrażenia wskazujące, ponieważ w tekstach stosowane są sposoby opisu tego samego obiektu w różny sposób np. wszystkie frazy odnoszące się do tej samej osoby - \textit{Janek, kolega Maćka, mały chłopiec, ten z prawej, najmłodszy w rodzinie}. Inną ważną kwestią są części wpływające na ciągłość tekstu - nawiązanie do poprzedniego tekstu lub wypowiedzi, ciągłość opisów.

Analiza nastrojów społecznych wypowiedzi jest możliwa po poddaniu tekstu zamianie na reprezentację, którą mogą posługiwać się systemy informatyczne. Poniżej przedstawiono opis kilku takich reprezentacji:
\begin{itemize}
	\item[--] \textbf{bag of words} [10] - najpopularniejszy sposób reprezentacji tekstu w postaci zestawu wyrazów z przyporządkowanymi im liczbami wystąpień w tekście np. zdanie \textit{Jan lubi oglądać filmy, a Maria także lubi je oglądać} można zapisać w notacji \textit{JSON} (ang. \textit{JSON - JavaScript Object Notation}) jako \textit{\{"Jan": 1, \textquotesingle \textquotesingle lubi": 2, \textquotesingle \textquotesingle oglądać": 2, "filmy": 1, \textquotesingle \textquotesingle a": 1, "Maria": 1, "także": 1, "je": 1\}}; innym przykładem zastosowania takiej reprezentacji jest wykorzystanie jej w mechanizmach odpowiadających za filtrowanie wiadomości e-mail.; wadą takiego podejścia jest utrata informacji o kolejności wyrazów w zdaniu i powiązaniach między nimi.
	\item[--] \textbf{reprezentacja wektorowa} (ang. \textit{vector space model}) [11, 12] - dokument tekstowy reprezentowany jest w postaci wektorów częstości występowania słów; tworzona jest macierz w której termy (np. wyrazy) odpowiadają wierszom, a dokumenty (np. strony internetowe) kolumnom; wadą tego podejścia jest fakt, że ilość słów może być bardzo duża co skutkuje utworzeniem ogromnej macierzy; ta technika maszynowego uczenia się znajduje swoje zastosowanie m.in. przy określaniu kategorii badanych tekstów.
	\item[--] \textbf{reprezentacja grafowa} [13] - podejście rozszerzające reprezentację wektorową, w której słowa są węzłami połączonymi ze sobą krawędziami jeśli występują razem w tekście; istnieje możliwość zaobrazowania kolejności występowania słów z wykorzystaniem krawędzi skierowanych.
\end{itemize}

Jako istoty ludzkie posiadamy zdolność do rozpoznawania cudzych emocji po treści wypowiedzi i towarzyszących jej czynników pozawerbalnych, której wydźwięk określa się jako stosunek lub postawa pozostająca w korelacji do pewnego zdarzenia lub sytuacji. Treści publikowane w internecie w formie tekstu niosą ze sobą tylko reprezentację tekstową, dlatego odczytanie nastroju wyrażanego w taki sposób jest trudnym zadaniem. Tym bardziej złożonym procesem wymagającym dokładnego przeanalizowania każdego słowa jest zadanie odczytania wydźwięku wypowiedzi przez napisany system. 

Dziedziną zajmującą się analizą wypowiedzi jest przetwarzanie języka naturalnego (ang. \textit{NLP - natural language processing}), gdzie językiem naturalnym określa się język stosowany przez ludzi do komunikacji interpersonalnej. Zadaniem systemów rozumiejących język naturalnych jest przekształcenie go na formę bardziej przyjazną dla komputerów. Natomiast podzbiór tych systemów służący do określania sentymentu zwraca ogólną informację o wydźwięku w ustalonej skali. Przykładowo analiza sentymentu w uważanej za punkt odniesienia dla takich algorytmów bibliotece NLP, napisanej przez pracowników i studentów amerykańskiego Uniwersytetu Stanforda, zwraca informację o sentymencie w pięciostopniowej skali: bardzo negatywny, negatywny, neutralny, pozytywny, bardzo pozytywny. Jest to ogólna informacja, ale nawet taka w postaci statystyk jest w stanie posłużyć jako cenne źródło informacji.

Algorytmy analizujące sentyment muszą poradzić sobie z następującymi wymaganiami [14, 15]:
\begin{itemize}
	\item[--] złożoność języka naturalnego,
	\item[--] niejednoznaczność wypowiedzi np. wieloznaczność słowa zamek: \textit{akcja Zemsty Fredry dzieje się na zamku w Odrzykoniu} lub \textit{zamek w moich drzwiach nie chce się otworzyć} lub syntaktyczna niejednoznaczność gdy w jednej części zdania znajduje się pozytywny wydźwięk, a w kolejnej negatywny: \textit{pogoda była okropna, ale obiad bardzo nam smakował},
	\item[--] specyfika stosowanego języka np. w internecie z powodu niejednokrotnie nie zachowanych zasad gramatycznych lub wiadomości nie niosących ze sobą żadnej treści,
	\item[--] neologizmy np. retweet,
	\item[--] idiomy np. "urwanie głowy"
	\item[--] problemy z rozpoznawaniem nazw np. \textit{byliśmy wczoraj na K2} - czy chodzi o film czy o szczyt górski,
	\item[--] problem wyrwania wypowiedzi z kontekstu,
	\item[--] tekst o charakterze sarkastycznym.
\end{itemize}

Techniki badania sentymentu wypowiedzi dzielimy na dwa rodzaje: korzystające ze słowników, które korzystają ze zbudowanych wcześniej list słów kluczowych z określonym sentymentem oraz oparte na klasyfikatorach, które wykorzystują techniki maszynowego uczenia się (ang. \textit{machine learning}). Podstawowe techniki badania sentymentu to [16]:
\begin{itemize}
	\item[--] \textbf{słownik} (ang. \textit{lexicon based approach}) - klasyfikator ten bada tekst na podstawie wystąpień słów przy wykorzystaniu słownika składającego się ze słów z przypisanym pozytywnym lub negatywnym wydźwiękiem; sentyment pojedynczego słowa określa się jako iloraz prawdopodobieństwa wystąpienia z pozytywnym sentymentem do prawdopodobieństwa wystąpienia z negatywnym; wadą takiego podejścia jest brak analizy powiązania między słowami.
	\item[--] \textbf{naiwny klasyfikator Bayesa} (ang. \textit{naive Bayes classifier}) - probabilistyczny klasyfikator wykorzystujący techniki maszynowego uczenia się, opierający się o zasadę niezależności słów oraz wykorzystujący założenie, że teksty o charakterze pozytywnym charakteryzują się określonym słownictwem, a te o charakterze negatywnym charakteryzują się innym; podejście to zakłada także, że tekst, w którym występuje więcej słów o charakterze z kategorii pozytywnej lub negatywnej powinien zostać zaklasyfikowany do tej kategorii;
	\item[--] \textbf{technika maksymalnej entropii} (ang. \textit{maximum entropy technique}) - podejście szacujące rozkład prawdopodobieństwa opierające się na założeniu, że rozkład  ma maksymalną entropię, jeśli dane nie są dobrze znane; entropia zwana także miarą niepewności rozkładu jest kolejną metodą wykorzystującą techniki maszynowego uczenia się.
	\item[--] \textbf{metoda wektorów nośnych} (ang. \textit{support vector machines}) - technika \textit{machine learning} opierająca się o ideę hiperpłaszczyzny dzielącej teksty na pozytywne oraz negatywne z jak najmniejszym marginesem; celem jest znalezienie funkcji, dla której błąd sklasyfikowania tekstu będzie najmniejszy; programy wykorzystujące tą metodę dobrze radzą sobie z dużą ilością słów, ale oznaczenie części z nich jako nieistotne może powodować utratę cześci informacji.
\end{itemize}

Jak wynika z badań przeprowadzonych na grupie ponad 2000 dorosłych Amerykanów 81\% internautów przynajmniej raz szukało opinii o produkcie w internecie, a 20\% Amerykanów robi to na co dzień [17]. Około 80\% użytkowników internetu spośród wspomnianej grupy badawczej przyznało, że opinie przeczytane w internecie miały znaczny wpływ na dokonane przez nich zakupy. Wyniki tych badań pokazują jak bardzo wydźwięk informacji, opinii, recenzji oraz poglądów w internecie ma wpływ na zachowania ludzi. Najczęściej spotykane zastosowania analizy sentymentu wypowiedzi zamieszczanych w internecie to [18]:
\begin{itemize}
	\item[--] analizowanie opinii wyrażanych na temat produktów np. krótko po premierze nowego produktu firmy chcą wiedzieć jak są one odbierane tak aby móc w porę zaplanować wprowadzenie poprawek lub aby prognozować wyniki sprzedaży oraz cenę akcji, firmy próbują także docierać do osób krytykujących aby przekonać ich do zmiany zdania lub żeby krytyków konkurencji zachęcić do zakupu swoich produktów,
	\item[--] badanie opinii na temat firm np. jako pracodawców lub ich odbiór na rynku,
	\item[--] analiza opinii na temat ugrupowań politycznych i polityków np. dotycząca obecnej sytuacji lub przyszłych decyzji oraz nastawienia badanych grup społecznych,
	\item[--] badanie nastrojów społecznych podczas wydarzeń sportowych może posłużyć np. do uzyskania wiedzy jak odbierane są decyzje właścicieli klubów piłkarskich. 
\end{itemize}

   


